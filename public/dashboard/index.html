<html>
  <head>
    <script src="/js/jquery-2.1.4.min.js"></script>
    <style type="text/css">
      body {
        margin: 0px;
        background: #eee;
      }
      div#trainerCard {
        margin: 0px auto;
        width: 450px;
        margin-top: 100px;
        border: 1px solid #a3a3e2;
        background: #fff;
        border-radius: 3px;
      }
      div.header { 
        display: block;
        padding: 15px;
        font-family: arial;
        border-bottom: 1px solid #d3c6c6;
        border-top-left-radius: 3px;
        border-top-right-radius: 3px;
        color: #4a4a60;
        background: #eee;
      }
      div.header button {
          float: right;
      }
      div#trainerHeader {
        padding: 10px;
        border-bottom: 1px solid #ccc;
        width: 430px;
        min-height: 75px;
      }
      div#trainerHeader img {
        width: 75px;
        height: 75px;
        background-size: cover;
      }
      div.left{
        float: left;
        width: 100px;
      }
      div.right {
        float: left;
      }
      div.right span {
        display: block;
        font-size: 13px;
        font-family: arial;
        margin-top: 5px;
      }
      div.right span#username {
        font-size: 18px;
      }
      div#partyList { 
        padding: 15px;
        min-height: 50px;
      }
      div.partyItem {
        width: 40px;
        height: 40px;
        background: #ede1e1;
        float: left;
        border: 1px solid #a3a3e2;
        margin: 0px 5px;
        padding: 5px;
        font-size: 13px;
      }
      div#windowOptions {
        border-top: 1px solid #a3a3e2;
        padding: 10px;
        text-align: center;

      }
      div#windowOptions button {
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <script>
      $.getJSON('/account.json').done(function(data) {
        console.log(data)

        $.each(data.profiles, function(index, data) {
            var option = $('<option value="' + data + '">'+data+'</option>')
            $('#profiles-select').append(option)
        })
      })

      $(function() {
          $('#profiles-select').change(function(event) {
              var value = event.target.value

              if (!value) return

              $.getJSON('/trainer/' + value + '.json').done(function(data) {
                  console.log(data)

                  $('#username')[0].innerHTML=data.Name
                  $('#usermap')[0].innerHTML=data.Map
                  $('#trainerportrait')[0].src=data.Portrait
                  $('#usrmoney')[0].innerHTML = "$"+data.Money
              })
          })
      })

      logout=function() {
        window.location.pathname = "/logout.go"
      }

      newTrainer = function() {
          window.location.pathname="/create-trainer"
      }

    </script>
    <div id="main">
      <div id="trainerCard">
        <div class="header">
          OSPokemon
          <button onclick="logout()">Logout</button>
        </div>
        <div id="trainerHeader">
          <div class="left">
            <img id="trainerportrait" src="http://orig08.deviantart.net/630c/f/2015/003/4/9/ash_ketchum_of_kanto_johto_hoenn_sinnoh_and_unova_by_playlistmasterrcm-d8cekig.jpg">
          </div>
          <div class="right">
            <span id="username" name="username">
              ---
            </span>
            <span id="usermap" name="usermap">
              ---
            </span>
            <span id="usrmoney" name="usrlvl">
              ---
            </span>
            <span id="usrlvl" name="usrlvl">
              ---
            </span>
          </div>
        </div>
        <div id="partyList">
          <div class="partyItem">
            PKMN #1
          </div>
          <div class="partyItem">
            PKMN #2
          </div>
          <div class="partyItem">
            PKMN #3
          </div>
          <div class="partyItem">
            PKMN #4
          </div>
        </div>
        <div id="windowOptions">
          <button onclick="newTrainer()"> new </button>
          <select id="profiles-select">
            <option value="">---</option>
          </select>
          <button> play </button>
       </div>
      </div>
    </div>
  </body>
</html>